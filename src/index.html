<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio</title>

    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <div id="wrap">
        <img src="assets/img/sexybrain.jpg" alt="" class="project__img">
        <img src="assets/img/youtube.jpg" alt="" class="project__img">
        <img src="assets/img/contact.jpg" alt="" class="project__img">
        <header id="header">
            <h1 class="name">CHOROK KWON</h1>
        </header>
        <main id="main">
            <div class="inrto">
                <p>
                    안녕하세요! 프론트엔드 개발자를 꿈꾸는 권초록입니다. <br />
제 핸드폰 메모장 제일 위에 있는문구가 하나있는데, 그것은 “자만은 독이다.”입니다. <br />
이 말을 어디에 붙여도 당연한 말이겠지만, 특히 개발자에게 있어서 더 의미가 있는 말이라고 생각합니다. <br />
내가 이 분야에서 통달했다고 자만하는 순간 그 사람은 그곳에 만족하게되고, <br />
일을 하는 동안 배움을 멈춰선 안되는 개발자에게 있어서 그것은 곧 끝이라 생각하기 때문입니다. 
                </p>
            </div>
            <div class="contents">
                <nav class="manu">
                    <div role="listitem" class="list__box">
                        <a href="phpSite.html" class="project__link under__line">
                            <div class="project__sub">team project01</div>
                            <div class="project__title">php site/</div>
                        </a>    
                        
                    </div>

                    <div role="listitem" class="list__box">
                        <a href="phpSite.html" class="project__link under__line">
                            <div class="project__sub">team project02</div>
                            <div class="project__title">react site/</div>
                        </a>    
                        
                    </div> <br />

                    <div role="listitem" class="list__box">
                        <a href="phpSite.html" class="project__link under__line">
                            <div class="project__sub">project01</div>
                            <div class="project__title">youtube site/</div>
                        </a>    
                        <img src="assets/img/youtube.jpg" alt="" class="project__img">
                    </div>

                    <div role="listitem" class="list__box">
                        <a href="phpSite.html" class="project__link under__line">
                            <div class="project__sub">project02</div>
                            <div class="project__title">movie site/</div>
                        </a>    
                        <img src="assets/img/youtube.jpg" alt="" class="project__img">
                    </div> <br />

                    <div role="listitem" class="list__box">
                        <a href="phpSite.html" class="project__link under__line">
                            <div class="project__sub">intro</div>
                            <div class="project__title">about me/</div>
                        </a>    
                        <img src="assets/img/youtube.jpg" loading="eager" alt="" class="project__img">
                    </div>

                    <div role="listitem" class="list__box">
                        <a href="phpSite.html" class="project__link under__line">
                            <div class="project__sub">intro</div>
                            <div class="project__title">contact/</div>
                        </a>    
                        <img src="assets/img/youtube.jpg" loading="eager" alt="" class="project__img">
                    </div>

                </nav>
                <div class="link">
                    <a href="#">email</a>
                    <a href="#">comment</a>
                </div>
            </div>
        </main>

    </div>
    
    <script type="module" src="assets/js/main.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // name
            document.querySelectorAll(".name").forEach(text => {
                let theText = text.innerText;
                let newText = "";

                for(i=0; i<text.innerText.length; i++){
                    newText += "<span aria-hidden='true'>"
                    
                    if(text.innerText[i] == " "){
                        newText += "&nbsp";
                    } else {
                        newText += text.innerText[i];
                    }

                    newText += "</span>"
                }
                text.innerHTML = newText;
                text.setAttribute("arial-label", theText);
            });
            gsap.set(".name span", { autoAlpha: 0, y: 100 });
            gsap.set("#main", { autoAlpha: 0})
            gsap.to(".name span", { 
                autoAlpha: 1, 
                y: 0, 
                duration: 0.5, 
                stagger: 0.1, 
                ease: "back.out(1.7)",
                onComplete: function() {
                    gsap.to("#main", { autoAlpha: 1, duration: 0.5 });
                }
            });

            const nameSpans = document.querySelectorAll(".name span");
            if (nameSpans.length >= 10) { 
                const image = document.createElement("img"); 
                image.src = "assets/img/profil.png"; 
                nameSpans[9].appendChild(image); 
            }
            // name

            // 마우스 이벤트를 처리하기 위한 이 코드를 추가합니다.
            const body = document.body;
            const projectImg = document.querySelectorAll('.project__img');
            const projectLinks = document.querySelectorAll('.project__link');
            

            // 애니메이션을 저장할 객체
            const projectAnimations = {
                project1: null,
                project2: null,
                project3: null,
            };

            // 첫 번째 .project__link에 대한 이벤트 리스너
            const projectLink1 = document.querySelectorAll('.project__link')[0];
            const projectImg1 = document.querySelectorAll('.project__img')[0];

            projectLink1.addEventListener('mouseenter', function () {
                body.style.backgroundColor = 'rgb(150, 43, 255)';
                if (projectAnimations.project1) {
                projectAnimations.project1.kill();
                }
                projectAnimations.project1 = gsap.to(projectImg1, {
                opacity: 0.9,
                transform: 'translate(-50%, -50%) scale(1) rotate(-15deg)',
                duration: 0.6,
                ease: "power3.inOut",
                });
            });

            projectImg1.addEventListener('mouseenter', function () {
                projectAnimations.project1.kill();
            });

            projectLink1.addEventListener('mouseleave', function () {
                body.style.backgroundColor = 'rgb(224, 225, 227)';
                if (projectAnimations.project1) {
                projectAnimations.project1.kill();
                }
                projectAnimations.project1 = gsap.to(projectImg1, {
                opacity: 0,
                transform: 'translate(50%, -200%) scale(0.3) rotate(0deg)',
                duration: 0.3,
                ease: "power1.in",
                onComplete: function () {
                    gsap.to(projectImg1, { transform: 'translate3d(50%, 200%, 0px) scale3d(0.3, 0.3, 1) rotateX(0deg) rotateY(0deg) rotateZ(0deg) skew(0deg, 0deg)', duration: '0', delay: 0.6 });
                    projectAnimations.project1 = null;
                }
                });
            });

            // 두 번째 .project__link에 대한 이벤트 리스너
            const projectLink2 = document.querySelectorAll('.project__link')[1];
            const projectImg2 = document.querySelectorAll('.project__img')[1];

            projectLink2.addEventListener('mouseenter', function () {
                body.style.backgroundColor = 'rgb(255, 150, 43)';
                if (projectAnimations.project2) {
                projectAnimations.project2.kill();
                }
                projectAnimations.project2 = gsap.to(projectImg2, {
                opacity: 0.9,
                transform: 'translate(-50%, -50%) scale(1) rotate(-15deg)',
                duration: 0.8,
                ease: "power3.inOut",
                });
            });

            projectImg2.addEventListener('mouseenter', function () {
                projectAnimations.project2.kill();
            });

            projectLink2.addEventListener('mouseleave', function () {
                body.style.backgroundColor = 'rgb(224, 225, 227)';
                if (projectAnimations.project2) {
                projectAnimations.project2.kill();
                }
                projectAnimations.project2 = gsap.to(projectImg2, {
                opacity: 0,
                transform: 'translate(50%, -200%) scale(0.3) rotate(0deg)',
                duration: 0.3, 
                ease: "power1.in", 
                onComplete: function () {
                    gsap.to(projectImg2, { transform: 'translate3d(50%, 200%, 0px) scale3d(0.3, 0.3, 1) rotateX(0deg) rotateY(0deg) rotateZ(0deg) skew(0deg, 0deg)', duration: '0', delay: 0.6 });
                    projectAnimations.project2 = null;
                }
                });
            });

            // 세 번째 .project__link에 대한 이벤트 리스너
            const projectLink3 = document.querySelectorAll('.project__link')[2];
            const projectImg3 = document.querySelectorAll('.project__img')[2];

            projectLink3.addEventListener('mouseenter', function () {
                body.style.backgroundColor = 'rgb(255, 150, 43)';
                if (projectAnimations.project3) {
                projectAnimations.project3.kill();
                }
                projectAnimations.project3 = gsap.to(projectImg3, {
                opacity: 0.9,
                transform: 'translate(-50%, -50%) scale(1) rotate(-15deg)',
                duration: 0.8,
                ease: "power3.inOut", 
                });
            });

            projectImg3.addEventListener('mouseenter', function () {
                projectAnimations.project3.kill();
            });

            projectLink3.addEventListener('mouseleave', function () {
                body.style.backgroundColor = 'rgb(224, 225, 227)';
                if (projectAnimations.project3) {
                projectAnimations.project3.kill();
                }
                projectAnimations.project3 = gsap.to(projectImg3, {
                opacity: 0,
                transform: 'translate(50%, -200%) scale(0.3) rotate(0deg)',
                duration: 0.3, 
                ease: "power1.in", 
                onComplete: function () {
                    gsap.to(projectImg3, { transform: 'translate3d(50%, 200%, 0px) scale3d(0.3, 0.3, 1) rotateX(0deg) rotateY(0deg) rotateZ(0deg) skew(0deg, 0deg)', duration: '0', delay: 0.6 });
                    projectAnimations.project3 = null;
                }
                });
            });
            
            // 프로젝트 링크 클릭 이벤트 처리
            let clickInProgress = false;

            projectLinks.forEach((link, index) => {
                link.addEventListener('click', function (event) {
                    event.preventDefault(); // 기본 동작 방지
                    clickInProgress = true;

                    // 클릭한 프로젝트 이미지 확대 애니메이션
                    gsap.to(projectImg[index], {
                        width: '100vw',
                        height: '100vh',
                        top: '50%',
                        left: '50%',
                        transform: 'translate(-50%, -50%) rotate(0deg)',
                        zIndex: 2,
                        duration: 1.5,
                        ease: "power3.in",
                        onComplete: function () {
                            window.location.href = link.href;
                            clickInProgress = false;
                        }
                    });

                    // 다른 프로젝트 이미지는 숨김
                    projectImg.forEach((img, i) => {
                        if (i !== index) {
                            gsap.to(img, {
                                opacity: 0,
                                duration: 1
                            });
                        }
                    });
                });
            });

        });
    </script>

    <script>
        $('.project__link').hover(function(){
            $('.project__link').not(this).toggleClass('toggle');
        })
        $('.project__link').mouseenter(function () {
            $('.name').stop().animate({
                opacity: 0.1
            }, 500);
            $('.inrto > p').stop().animate({
                opacity: 0.1
            }, 500);
            $('.link').stop().animate({
                opacity: 0.1
            }, 500);
        });

        $('.project__link').mouseleave(function () {
                $('.name').stop().animate({
                    opacity: 1
                }, 500);
                $('.inrto > p').stop().animate({
                    opacity: 1
                }, 500);
                $('.link').stop().animate({
                    opacity: 1
                }, 500);
            });
    </script>
</body>
</html>